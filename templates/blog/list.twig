{% extends 'layout.twig' %}

{% block title %}
    {{ parent() }} | Blog
{% endblock %}

{% block body %}
    <div id="blog" class="main">
        <div class="row-fluid">
            <div class="span12">
                <h1>Blog</h1>
                {% if category is defined %}
                <h2>Category: {{ category }}</h2>
                {% endif %}

                <dl>
                    {% for post in posts %}
                        <dt><a href="{{ path('blog_post', {'slug': post.slug}) }}">{{ post.title }}</a></dt>
                        <dd>{{ post.resume }}</dd>
                    {% else %}
                        <dt>No blog posts available</dt>
                        <dd>Something went wrong</dd>
                    {% endfor %}
                </dl>

                <hr>
                {% if pages %}
                    {% include 'include/paginator.twig' with {'pages': pages, 'route': route} %}
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}